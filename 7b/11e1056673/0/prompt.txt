can you address the open comments and fix the tests